<div class="background-cover"></div>
<div class="container" id="page" style="display: none;" ng-app="hackboardApp" ng-controller="UserCtrl">
  <div class="ui grid page">
    <div class="ui grid centered through">
      <!-- Home Page -->
      <div class="ui ten wide column raised segment center aligned" id="selectCard">
        <div class="content">
          <div class="ui huge icon header">
            <i class="rocket icon"></i>
            <div class="content">
              Hackboard
            </div>
          </div>
          <div class="ui hidden divider"></div>
          <div class="ui red button" id="signupButton">Sign up</div>
          <div class="ui green button" id="loginButton">Log in</div>
          <div class="ui hidden divider"></div>
          <div class="description">
            Accelerate, Customize, Board
          </div>
        </div>
      </div>

      <!-- Register Page -->
      <div class="ui ten wide column segment center aligned hidden" id="signupCard" style="display: none;">
        <div class="ui grid center aligned">
          <div class="ui column">
            <div class="ui right floated circular icon button backButton">
              <i class="ui arrow up icon"></i>
            </div>
          </div>
        </div>
        <div class="ui hidden divider"></div>
        <form class="ui error warning form" ng-submit="">
          <div class="field ui right labeled input">
            <input placeholder="user@email.com" type="email" required ng-model="registerInfo.email">

            <div class="ui tag label">
              Email
            </div>
          </div>
          <div class="inline fields">
            <div class="field">
              <img class="ui tiny circular image middle aligned" src="img/square-image.png">
            </div>
            <div class="field">
              <input placeholder="shortname" type="text" required ng-model="registerInfo.nickname">
            </div>
          </div>
          <div class="field ui right labeled input">
            <input placeholder="at least 8 chars" type="password" required ng-model="registerInfo.password">

            <div class="ui tag label">
              Password
            </div>
          </div>
          <div class="field ui right labeled input">
            <input placeholder="type password again" type="password" required ng-model="registerInfo.password_confirmation">

            <div class="ui tag label">
              Confirm
            </div>
          </div>
          <div class="inline field">
            <div class="ui checkbox">
              <input type="checkbox" ng-model="registerInfo.agree">
              <label>I agree to the Terms and Conditions</label>
            </div>
          </div>
          <div class="ui hidden divider"></div>
          <div class="ui warning message" ng-show="registerInfo.hasWarning">
            <div class="header">
              <i class="info circle icon"></i>Could you check something!
            </div>
            <ul class="list">
              <li>
                Test
              </li>
            </ul>
          </div>
          <div class="ui error message" ng-show="registerInfo.hasError">
            <div class="header">
              <i class="remove circle icon"></i>Something went wrong :(
            </div>
            <ul class="list">
              <li>
                Test
              </li>
            </ul>
          </div>
          <input type="submit" class="ui blue button" value="Sign Up">
        </form>
      </div>
      <!-- Login Page -->
      <div class="ui ten wide column segment center aligned hidden" id="loginCard" style="display: none;">
        <div class="ui grid center aligned">
          <div class="ui column">
            <div class="ui right floated circular icon button backButton">
              <i class="ui arrow up icon"></i>
            </div>
          </div>
        </div>
        <div class="ui hidden divider"></div>
        <form class="ui error warning form" ng-submit="btnLogin()">
          <div class="field ui right labeled input">
            <input placeholder="user@email.com" type="email" required ng-model="loginInfo.email">

            <div class="ui tag label">
              Email
            </div>
          </div>
          <div class="field ui right labeled input">
            <input placeholder="at least 8 chars" type="password" required ng-model="loginInfo.password">

            <div class="ui tag label">
              Password
            </div>
          </div>
          <div class="inline field">
            <div class="ui checkbox">
              <input type="checkbox" ng-model="loginInfo.rememberMe">
              <label>Remember me</label>
            </div>
          </div>
          <div class="ui hidden divider"></div>
          <div class="ui warning message" ng-show="loginInfo.hasWarning">
            <div class="header">
              <i class="info circle icon"></i>Could you check something!
            </div>
            <ul class="list">
              <li>
                帳號或密碼錯誤？
              </li>
              <li ng-click="btnRegister()">
                <a href="#">還沒註冊嗎?</a>
              </li>
            </ul>
          </div>
          <div class="ui error message" ng-show="loginInfo.hasError">
            <div class="header">
              <i class="remove circle icon"></i>Something went wrong :(
            </div>
            <ul class="list">
              <li>
                抱歉，可能是伺服器正在維修，請稍候30分鐘再試，如果持續發生這個狀況，請聯絡我們！
              </li>
            </ul>
          </div>
          <input type="submit" class="ui blue button" value="Log in">
        </form>
      </div>
    </div>
  </div>
</div>

<script src="vendor/semantic-ui-1.1.2/semantic.min.js"></script>
<script src="js/jquery.backstretch.js"></script>

<script>
    $('.ui.checkbox').checkbox();
    $.backstretch([
        "img/pot-holder.jpg",
        "img/coffee.jpg",
        "img/dome.jpg"
    ], {
        fade: 2000,
        duration: 18000
    });
    $("#page").transition('fade', '1000ms');
    $("#signupButton").click(function () {
        switchCard($(this).parent().parent(), $("#signupCard"));
    });
    $("#loginButton").click(function () {
        switchCard($(this).parent().parent(), $("#loginCard"));
    });
    $(".backButton").click(function () {
        switchCard($(this).parent().parent().parent(), $("#selectCard"));
    });
    function switchCard(hideCard, showCard) {
        $(hideCard).transition('vertical flip', '100ms', function () {
            $(showCard).transition('vertical flip', '100ms');
        });
    }
</script>